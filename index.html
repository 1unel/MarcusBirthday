<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üéâ Marcus' 6th LEGO Birthday üéÇ</title>

<style>
  /* ===== Fonts ===== */
  @font-face {
  font-family: 'Rolade';
  src: url('RoladeItalic-Black.ttf') format('truetype');
  font-weight: 900;
  font-style: italic;
  font-display: swap;
}

  /* ===== Body & Background ===== */
  body {
    margin: 0;
    font-family: 'Rolade', sans-serif;
    background: url('images/background-image.jpg') no-repeat center center fixed;
    background-size: cover;
    overflow-x: hidden;
    color: #222;
    position: relative;
  }

  body::before {
    content: '';
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(255,255,255,0.3);
    z-index: 0;
  }

  /* ===== Header ===== */
header {
  text-align: center;
  padding: 50px 20px 30px 20px;
  background: rgba(255, 204, 0, 0.9);
  border-bottom: 5px solid #d6001c;
  position: relative; /* needed for absolute positioning of dragon */
  z-index: 1;
}

#lego-name img,
#lego-turns img,
#lego-age img {
  display: block;
  margin: 0 auto 15px;
  filter: drop-shadow(3px 3px 5px #d6001c);
  transition: transform 0.3s;
  position: relative;
  z-index: 2;
}

#lego-name img { width: 300px; }
#lego-turns img { width: 200px; }
#lego-age img { width: 150px; }

#lego-name img:hover,
#lego-turns img:hover,
#lego-age img:hover {
  transform: scale(1.05);
}

/* ===== Dragon ===== */


#dragon {
  position: absolute; /* relative to header */
  top: 20px;          /* adjust vertical position */
  right: -300px;      /* start further off-screen */
  width: 800px;       /* BIGGER size */
  height: auto;
  z-index: 1;        /* above LEGO images */
  animation: slideIn 2s forwards ease-out;
}

@keyframes slideIn {
  0% {
    right: -100px; /* off-screen start */
    opacity: 0;
    transform: scale(0.8) rotate(10deg);
  }
  100% {
    right: 20px;   /* final position next to images */
    opacity: 1;
    transform: scale(1) rotate(0deg);
  }
}

/* ===== Left Dragon ===== */
#dragon-left {
  position: absolute;  /* relative to header */
  top: 20px;           /* adjust vertical position */
  left: -100px;        /* start off-screen to the left */
  width: 800px;        /* same big size as right dragon */
  height: auto;
  z-index: 1;
  animation: slideInLeft 2s forwards ease-out;
}

@keyframes slideInLeft {
  0% {
    left: -300px;      /* off-screen start */
    opacity: 0;
    transform: scale(0.8) rotate(-10deg);
  }
  100% {
    left: 20px;        /* final position next to LEGO images on left */
    opacity: 1;
    transform: scale(1) rotate(0deg);
  }
}

/* ===== Responsive Dragons ===== */
@media (max-width: 1024px) {
  /* Tablets: scale down size */
  #dragon, #dragon-left {
    width: 400px;
  }
}

@media (max-width: 768px) {
  /* Phones: smaller size, closer to top */
  #dragon, #dragon-left {
    width: 250px;
    top: 10px;
  }
}

@media (max-width: 480px) {
  /* Stack dragons and make them appear inside header content */
  #dragon-container,
  #dragon-left-container {
    position: relative; /* stack inside header */
    left: auto;
    right: auto;
    top: 0;
    width: 100%;
    text-align: center; /* center dragons */
    margin: 10px 0;
  }

  #dragon,
  #dragon-left {
    position: relative;   /* no longer absolute */
    left: auto;
    right: auto;
    width: 150px;         /* smaller size for phones */
    height: auto;
    animation: none;      /* disable slide animation */
    transform: scale(1);  /* reset any scale/rotation */
  }
}

header p {
  font-size: 1.2em;
  margin: 5px 0;
}

#countdown {
  font-size: 1.5em;
  margin-top: 15px;
  color: #1a1a1a;
  font-weight: bold;
}



  /* ===== Event Info ===== */
  .event-info {
    text-align: center;
    font-size: 1.2em;
    margin: 30px 20px;
    background: rgba(255,255,255,0.85);
    padding: 20px;
    border-radius: 15px;
    box-shadow: 0 5px 10px rgba(0,0,0,0.2); 
  }

  /* ===== Infinite Loop Carousel ===== */
  .carousel-container {
    width: 100%;
    overflow: hidden;
    position: relative;
    margin: 30px 0;
    z-index: 2;
  }

  .carousel-track {
    display: flex;
    gap: 15px;
    animation: scrollCarousel 20s linear infinite;
  }

  .carousel-track img {
    flex: 0 0 auto;
    width: 330px;
    height: 330px;
    object-fit: cover;
    border-radius: 15px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    transition: transform 0.3s;
  }

  .carousel-track img:hover {
    transform: scale(1.08) rotate(5deg);
  }

  @keyframes scrollCarousel {
    0% { transform: translateX(0); }
    100% { transform: translateX(-50%); }
  }

  /* ===== RSVP Form ===== */
  .rsvp {
    text-align: center;
    margin: 50px 20px;
    background: rgba(255,255,255,0.85);
    padding: 25px;
    border-radius: 15px;
    box-shadow: 0 5px 10px rgba(0,0,0,0.2);
    position: relative;
    z-index: 10;
  }

  .rsvp input, .rsvp textarea {
    padding: 10px;
    width: 80%;
    max-width: 400px;
    margin: 10px 0;
    border-radius: 10px;
    border: 2px solid #d6001c;
    outline: none;
  }

  .rsvp button {
    padding: 12px 30px;
    border: none;
    border-radius: 12px;
    background: #d6001c;
    color: white;
    cursor: pointer;
    font-size: 1em;
    transition: background 0.3s;
  }

  .rsvp button:hover {
    background: #ff4757;
  }

  /* ===== Floating LEGO bricks ===== */
  .floating-brick {
    position: absolute;
    pointer-events: none;
    z-index: 1;
    transform: rotate(0deg);
    transition: transform 0.1s;
  }

  /* ===== Toast Notification ===== */
  .toast {
    position: fixed;
    bottom: 30px;
    left: 50%;
    transform: translateX(-50%);
    background: #1e90ff;
    color: white;
    padding: 15px 25px;
    border-radius: 10px;
    font-weight: bold;
    z-index: 20;
    opacity: 0;
    transition: opacity 0.5s;
  }

  .toast.show {
    opacity: 1;
  }

  /* ===== Live Wish Wall ===== */
  #wishWall {
    margin-top: 25px;
    text-align: left;
  }

  .wish {
    background: white;
    border-left: 8px solid #1e90ff;
    padding: 12px;
    border-radius: 10px;
    margin-bottom: 10px;
    animation: fadeIn 0.4s ease;
  }

  .wish strong {
    color: #d6001c;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  /* ===== Footer ===== */
  footer {
    text-align: center;
    padding: 20px;
    background: rgba(255,204,0,0.9);
    color: #222;
    font-weight: bold;
    border-top: 5px solid #d6001c;
    position: relative;
    z-index:1;
  }

  /* ===== Responsive ===== */
  @media(max-width: 600px) {
    #lego-name img { width: 200px; }
    #lego-turns img { width: 150px; }
    #lego-age img { width: 120px; }
    .carousel-track img { width: 200px; height: 200px; }
    .rsvp input, .rsvp textarea { width: 90%; }
  }
</style>

</head>
<body>

<audio id="bg-music" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" loop autoplay></audio>

<header>

  <div id="lego-name">
    <img src="images/marcusname.png" alt="Marcus LEGO Name">
  </div>

  <div id="lego-turns">
    <img src="images/turns.png" alt="Turns LEGO Name">
  </div>

  <div id="lego-age">
    <img src="images/6.png" alt="6 LEGO Name">
  </div>

     <!-- Right dragon -->
  <div id="dragon-container">
    <img src="images/lego dragons.jpg" id="dragon" alt="Dragon Right">
  </div>

  <!-- Left dragon -->
  <div id="dragon-left-container">
    <img src="images/lego dragons 2.jpg" id="dragon-left" alt="Dragon Left">
  </div>


  <p>üéâ Marcus‚Äô LEGO Birthday Bash üéÇ</p>
  <p>Countdown to the Party:</p>
  <div id="countdown"></div>
</header>

<section class="event-info">
  <p>üìÖ Monday, January 26</p>
  <p>üïí 3:00 PM</p>
  <p>üìç Ardeer Community Park Playground (140 Forrest St)</p>
  <p>üì± RSVP: 0450059438</p>
</section>

<section class="carousel-container">
  <div class="carousel-track">
    <!-- Original images -->
    <img src="images/lego avengers.jpg" alt="LEGO Avengers">
    <img src="images/lego batman.jpg" alt="LEGO Batman">
    <img src="images/lego deadpool and wolverine.jpg" alt="LEGO Deadpool & Wolverine">
    <img src="images/lego ninja.jpg" alt="LEGO Ninja">
    <img src="images/lego starwars.jpg" alt="LEGO Star Wars">
    <img src="images/lego harry potter.jpg" alt="LEGO Harry Potter">
    <!-- Duplicate images for seamless loop -->
    <img src="images/lego avengers.jpg" alt="LEGO Avengers">
    <img src="images/lego batman.jpg" alt="LEGO Batman">
    <img src="images/lego deadpool and wolverine.jpg" alt="LEGO Deadpool & Wolverine">
    <img src="images/lego ninja.jpg" alt="LEGO Ninja">
    <img src="images/lego starwars.jpg" alt="LEGO Star Wars">
    <img src="images/lego harry potter.jpg" alt="LEGO Harry Potter">
  </div>
</section>

<section class="rsvp">
  <h2>Leave a Birthday Wish for Marcus!</h2>

  <form id="rsvpForm">
    <input type="text" placeholder="Your Name (optional)" id="name"><br>
    <textarea placeholder="Your Message" id="message" required></textarea><br>
    <button type="submit">Send Wish üéà</button>
  </form>

  <div id="wishWall"></div>
</section>

<footer>Thank you for celebrating with Marcus! üíõ</footer>
<div id="toast" class="toast">Wish sent!</div>

<!-- Firebase SDKs -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<script>
  // ===== Firebase Config =====
  const firebaseConfig = {
    apiKey: "AIzaSyCE7VmZFzmwUVbsHl1KDj-N_4QR6KH0_xo",
    authDomain: "marcusbirthday-86ac8.firebaseapp.com",
    projectId: "marcusbirthday-86ac8",
    storageBucket: "marcusbirthday-86ac8.appspot.com",
    messagingSenderId: "185345839488",
    appId: "1:185345839488:web:ea610f80abbb0d4fd2b165"
  };
  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();

  // ===== Countdown =====
  const countdownEl = document.getElementById('countdown');
  const birthdayDate = new Date('2026-01-26T15:00:00');
  function updateCountdown(){
    const now = new Date();
    const diff = birthdayDate - now;
    if(diff<0){ countdownEl.innerHTML="üéâ The party has started! üéâ"; return; }
    const days = Math.floor(diff/(1000*60*60*24));
    const hours = Math.floor((diff/(1000*60*60))%24);
    const minutes = Math.floor((diff/(1000*60))%60);
    const seconds = Math.floor((diff/1000)%60);
    countdownEl.innerHTML=`${days}d ${hours}h ${minutes}m ${seconds}s`;
  }
  setInterval(updateCountdown,1000);
  updateCountdown();

  // ===== RSVP Form =====
  const form = document.getElementById('rsvpForm');
  const wishWall = document.getElementById('wishWall');

  // Live wishes
  db.collection("wishes").orderBy("timestamp","desc")
    .onSnapshot(snapshot=>{
      wishWall.innerHTML="";
      snapshot.forEach(doc=>{
        const data=doc.data();
        renderWish(data.name,data.message);
      });
    });

  form.addEventListener('submit', async e=>{
    e.preventDefault();
    const name=document.getElementById('name').value.trim()||'Anonymous';
    const message=document.getElementById('message').value.trim();
    if(!message){ showToast('Please write a birthday message üéÇ'); return; }

    try{
      await db.collection("wishes").add({
        name,
        message,
        timestamp: firebase.firestore.FieldValue.serverTimestamp()
      });
      showToast(`üéâ Thank you, ${name}!`);
      form.reset();

      // LEGO sound
      const audio = new Audio('https://www.soundjay.com/button/sounds/button-16.mp3');
      audio.play();

      // Animated send brick
      createSendBrick();
    }catch(err){
      console.error(err);
      showToast('‚ùå Could not send wish. Try again!');
    }
  });

  function renderWish(name,message){
    const div=document.createElement('div');
    div.className='wish';
    div.innerHTML=`<strong>${name}</strong><br>${message}`;
    wishWall.prepend(div);
  }

  function showToast(text){
    const toast=document.getElementById('toast');
    toast.innerText=text;
    toast.classList.add('show');
    setTimeout(()=>toast.classList.remove('show'),3000);
  }

  // ===== Floating LEGO bricks =====
  const legoImages=['images/green brick.png','images/blue brick.png','images/yellow brick.png'];
  const floatingCount=12;
  for(let i=0;i<floatingCount;i++){
    const brick=document.createElement('img');
    brick.src=legoImages[Math.floor(Math.random()*legoImages.length)];
    brick.className='floating-brick';
    brick.style.width=40+Math.random()*30+'px';
    brick.style.left=Math.random()*100+'vw';
    brick.style.top=window.innerHeight+Math.random()*500+'px';
    brick.style.transform=`rotate(${Math.random()*360}deg)`;
    document.body.appendChild(brick);
    animateFloatingBrick(brick,Math.random()*1.5+0.5);
  }

  function animateFloatingBrick(el,speed){
    let x=parseFloat(el.style.left);
    let y=parseFloat(el.style.top);
    let rot=Math.random()*360;
    function floatStep(){
      y-=speed;
      rot+=1;
      if(y<-60){
        y=window.innerHeight+Math.random()*200;
        x=Math.random()*100;
        el.style.width=40+Math.random()*30+'px';
      }
      el.style.top=y+'px';
      el.style.left=x+'vw';
      el.style.transform=`rotate(${rot}deg)`;
      requestAnimationFrame(floatStep);
    }
    requestAnimationFrame(floatStep);
  }

  function createSendBrick(){
    const brick=document.createElement('img');
    brick.src=legoImages[Math.floor(Math.random()*legoImages.length)];
    brick.className='floating-brick';
    brick.style.width='50px';
    brick.style.left='50%';
    brick.style.top='60%';
    document.body.appendChild(brick);
    let top=brick.offsetTop;
    let opacity=1;
    function animate(){
      top-=3;
      opacity-=0.02;
      brick.style.top=top+'px';
      brick.style.opacity=opacity;
      if(opacity>0) requestAnimationFrame(animate);
      else brick.remove();
    }
    animate();
  }

</script>
</body>
</html>
